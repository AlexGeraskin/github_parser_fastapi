## API-приложение в docker на FastAPI

### Инструкция по запуску приложения

- Скачать репозиторий ```git clone```
- Указать параметры подключения к базе данных PostgreSQL в файле ```.env``` . В случае тестирования с локальной бд следует указать ```DB_HOST=host.docker.internal```
- В корневой директории проекта собрать и запустить контейнер командой ```docker-compose up --build```
- Приложение будет доступно по адресу ```http://0.0.0.0:8000``` с эндпоинтами ```/api/repos/top100``` и ```/api/repos/{owner}/{repo}/activity```

## Парсер на данных с GitHub

### Инструкция по деплою парсера на базе клауд функции в Yandex Cloud

- Установить Yandex Cloud CLI
- Скачать скрипт по деплою ```deploy_yandex_function.sh```, файл ```requirements.txt``` из папки ```requirements_for_github_parser``` и парсер ```github_parser.py```
- Создать zip-архив из файлов ```github_parser.py``` и ```requirements.txt```
- Параметры подключения к бд PostgreSQL можно предварительно указать в скрипте в переменной окружения клауд функции ```ENV_VARS_FOR_DB``` до его запуска, либо позже в консоли Yandex Cloud.
- Запустить скрипт ```zsh deploy_yandex_function.sh``` и следовать его шагам, предоставляя необходимые данные для подключения.
- В результате в Yandex Cloud будет создана функция с именем “github-parser-from-cli” и триггер-таймер для нее, который будет вызывать функцию парсинга раз в час. Интервал выбран исходя из лимита на запросы к REST API Github (без аутентификации) - не более 60 запросов в час и логики задачи - нас интересует рейтинг топ-100 репозиториев, а существенных изменений на ежеминутной основе (например) в нем не происходит.